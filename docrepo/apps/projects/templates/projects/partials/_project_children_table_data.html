{% load project_tags %}

<tbody class="bg-white divide-y divide-gray-200" id="project-children-table-data">
  {% for project in projects %}
    {% can_read_project request project.folder as can_read_project %}
    <tr>
      <td class="px-6 py-4 whitespace-nowrap text-sm">
        {% if can_read_project %}
          <a
            class="hover:text-blue-700 text-gray-600 flex items-center"
            href="{% url "repo:folder" project.folder.pk %}"
          >
            <span class="material-icons-outlined">folder</span>&nbsp;&nbsp;
            {{ project.name }}
          </a>
        {% else %}
          <span class="text-gray-400 flex items-center">
            <span class="material-icons-outlined">folder</span>&nbsp;&nbsp;
            {{ project.name }}
          </span>
        {% endif %}
      </td>
      <td class="
            px-6 py-4 whitespace-nowrap
            text-gray-{% if can_read_project %}600{% else %}400{% endif %}
            text-sm
          "
      >
        {{ project.title|default:'--' }}
      </td>
      <td class="
            px-6 py-4 whitespace-nowrap
            text-gray-{% if can_read_project %}600{% else %}400{% endif %}
            text-sm
          "
      >
        {{ project.created }}
      </td>
      <td class="
            px-6 py-4 whitespace-nowrap
            text-gray-{% if can_read_project %}600{% else %}400{% endif %}
            text-sm
          "
      >
        {{ project.modified }}
      </td>
      <td class="
            px-6 py-4 whitespace-nowrap
            text-gray-{% if can_read_project %}600{% else %}400{% endif %}
            text-sm
          "
      >
        {{ project.visibility|title }}
      </td>
      <td class="px-6 py-4 whitespace-nowrap text-gray-600 text-sm flex items-center gap-3">
        {% include "repo/partials/_element_actions.html" with child=project %}
      </td>
    </tr>
  {% empty %}
    <tr>
      <td colspan="5" class="px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600 text-sm">
        --
      </td>
    </tr>
  {% endfor %}
</tbody>
